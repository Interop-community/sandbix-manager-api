<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE urlrewrite
        PUBLIC "-//tuckey.org//DTD UrlRewrite 4.0//EN"
        "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">

<urlrewrite>

    <rule>
        <from>^/[^/\.]+/static/.*$</from>
        <to type="redirect">^(.*)/.*/static/(.*)$ $1/static/$2</to>
    </rule>

    <rule>
        <from>^/static/.*$</from>
        <to type="redirect">^.*$</to>
    </rule>

    <rule>
        <from>^/[^/\.]+/REST/.*$</from>
        <to qsappend="true" type="redirect">^(.*)/.*/REST/(.*)$ $1/REST/$2</to>
    </rule>

    <rule>
        <from>^/REST/.*</from>
        <to qsappend="true" type="redirect">^.*$</to>
    </rule>

    <rule>
        <from>^/[^/\.]+/launch.html/.*$</from>
        <to qsappend="true" type="redirect">^(.*)/.*/launch.html/(.*)$ $1/launch.html/$2</to>
    </rule>

    <rule>
        <from>^/launch.html/.*$</from>
        <to qsappend="true" type="redirect">^.*$</to>
    </rule>

    <rule>
        <from>!(.*)/</from>
        <to type="permanent-redirect">^(.*)$ $1/</to>
    </rule>

    <rule>
        <from>^/([^/\.]+/)?$</from>
        <to qsappend="true" type="redirect">^.*$ /index.html</to>
    </rule>

</urlrewrite>








<!--RewriteCond %{REQUEST_URI} ^/[^/\.]+/static/.*$-->
<!--RewriteRule ^(.*)/.*/static/(.*)$ $1/static/$2 [L]-->

<!--RewriteCond %{REQUEST_URI} ^/static/.*$-->
<!--RewriteRule ^.*$ - [L]-->

<!--RewriteCond %{REQUEST_URI} ^/[^/\.]+/REST/.*$-->
<!--RewriteRule ^(.*)/.*/REST/(.*)$ $1/REST/$2 [L,QSA]-->

<!--RewriteCond %{REQUEST_URI} ^/REST/.*$-->
<!--RewriteRule ^.*$ - [L,QSA]-->

<!--RewriteCond %{REQUEST_URI} ^/[^/\.]+/launch.html/.*$-->
<!--RewriteRule ^(.*)/.*/launch.html/(.*)$ $1/launch.html/$2 [L,QSA]-->

<!--RewriteCond %{REQUEST_URI} ^/launch.html/.*$-->
<!--RewriteRule ^.*$ - [L,QSA]-->

<!--RewriteCond %{REQUEST_URI} !(.*)/$-->
<!--RewriteRule ^(.*)$ $1/ [L,R=301]-->

<!--RewriteCond %{REQUEST_URI} ^/([^/\.]+/)?$-->
<!--RewriteRule ^.*$ /index.html [L,QSA]-->